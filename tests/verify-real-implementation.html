<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify Real Implementation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .success {
            color: green;
            font-weight: bold;
        }
        .error {
            color: red;
            font-weight: bold;
        }
        .info {
            color: blue;
        }
        pre {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>Real Implementation Verification</h1>
    <div id="results"></div>

    <!-- Load the real memory game engine -->
    <script src="/language/memory_game_engine.js"></script>

    <script>
        const results = document.getElementById('results');

        // Wait for page to fully load
        window.addEventListener('DOMContentLoaded', () => {
            let html = '<h2>Testing Real Implementation Loading:</h2>';

            // Check if MemoryGame is loaded
            if (typeof MemoryGame !== 'undefined') {
                html += '<p class="success">✅ MemoryGame object is loaded</p>';

                // Check specific methods
                const methods = ['shuffleArray', 'init', 'prepareGameData', 'checkForMatch', 'handleMatch'];
                let allMethodsFound = true;

                html += '<h3>Checking Methods:</h3><ul>';
                for (const method of methods) {
                    if (typeof MemoryGame[method] === 'function') {
                        html += `<li class="success">✅ ${method}() exists</li>`;
                    } else {
                        html += `<li class="error">❌ ${method}() not found</li>`;
                        allMethodsFound = false;
                    }
                }
                html += '</ul>';

                // Test shuffleArray
                html += '<h3>Testing shuffleArray:</h3>';
                const testArray = [1, 2, 3, 4, 5];
                const originalStr = JSON.stringify(testArray);
                const copy = [...testArray];
                MemoryGame.shuffleArray(copy);

                html += `<pre>Original: ${originalStr}\nShuffled: ${JSON.stringify(copy)}</pre>`;

                if (copy.length === testArray.length) {
                    html += '<p class="success">✅ Array length preserved</p>';
                } else {
                    html += '<p class="error">❌ Array length changed!</p>';
                }

                // Check all elements are present
                const allPresent = testArray.every(item => copy.includes(item));
                if (allPresent) {
                    html += '<p class="success">✅ All elements preserved</p>';
                } else {
                    html += '<p class="error">❌ Some elements lost!</p>';
                }

                // Overall status
                if (allMethodsFound && allPresent) {
                    html += '<h2 class="success">✅ READY: Real implementation is properly loaded and working!</h2>';
                    html += '<p class="info">You can now run <code>./test_simple.bash</code> to run all tests with the real implementation.</p>';
                } else {
                    html += '<h2 class="error">❌ Issues found with real implementation</h2>';
                }

            } else {
                html += '<p class="error">❌ MemoryGame object is NOT loaded</p>';
                html += '<p>Check that /language/memory_game_engine.js exists and loads without errors.</p>';
            }

            results.innerHTML = html;
        });
    </script>
</body>
</html>
